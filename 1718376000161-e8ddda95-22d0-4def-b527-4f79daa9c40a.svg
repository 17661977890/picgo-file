<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="804px" height="553px" viewBox="-0.5 -0.5 804 553"><defs/><g><path d="M 527 196 L 527 351 L 423.37 351" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 418.12 351 L 425.12 347.5 L 423.37 351 L 425.12 354.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="47" y="36" width="710" height="160" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 708px; height: 1px; padding-top: 116px; margin-left: 48px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style=""><div style="text-align: left;"><b style="font-size: 15px; background-color: initial;">(10000,'2017-10-01','北京',20,0,'2017-10-01 07:00:00','2017-10-01 07:00:00',135,10,2),</b></div><span style="font-size: 15px;"><div style="text-align: left;"><b style="background-color: initial;">(10001,'2017-10-01','北京',30,1,'2017-10-01 17:05:45','2017-10-01 07:00:00',2,22,22),</b></div><b style=""><div style="text-align: left;"><b style="background-color: initial;">(10002,'2017-10-02','上海',20,1,'2017-10-02 12:59:12','2017-10-01 07:00:00',220,5,5),</b></div><div style="text-align: left;"><b style="background-color: initial;">(10003,'2017-10-02','广州',32,0,'2017-10-02 11:20:00','2017-10-02 11:20:00',30,11,11),</b></div><div style="text-align: left;"><b style="background-color: initial;">(10004,'2017-10-01','深圳',35,0,'2017-10-01 10:00:15','2017-10-01 10:00:15',100,3,3),</b></div><div style="text-align: left;"><b style="background-color: initial;">(10004,'2017-10-03','深圳',35,0,'2017-10-03 10:20:22','2017-10-03 10:20:22',11,6,6),</b></div><div style="text-align: left;"><b style="background-color: initial;">(10001,'2017-10-01','上海',20,1,'2017-10-01 17:05:45','2017-10-01 07:00:00',2,22,22)</b></div></b></span></pre></div></div></div></foreignObject></g><rect x="47" y="16" width="430" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 428px; height: 1px; padding-top: 26px; margin-left: 48px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b><font style="font-size: 13px;">现在的聚合模型是按照`user_id`, `date`, `city`, `age`, `sex`进行聚合的</font></b></div></div></div></foreignObject></g><rect x="207" y="256" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 266px; margin-left: 227px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><b><font style="font-size: 14px;">如果说我现在需要这样查，按照user_id，算cost的总和</font></b></div></div></div></foreignObject></g><rect x="57" y="316" width="170" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 168px; height: 1px; padding-top: 351px; margin-left: 59px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 14px;"><span style="background-color: initial;"><font style="font-size: 14px;">select </font></span></div><div style="font-size: 14px;"><span style="background-color: initial;"><font style="font-size: 14px;">user_id,sum(cost)</font></span></div><div style="font-size: 14px;"><span style="background-color: initial;"><font style="font-size: 14px;">from table </font></span></div><div style="font-size: 14px;"><span style="background-color: initial;"><font style="font-size: 14px;">group by user_id</font></span></div></div></div></div></foreignObject></g><rect x="277" y="316" width="140" height="70" fill="#99ff99" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 138px; height: 1px; padding-top: 351px; margin-left: 279px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">从上面的表中获取到数据进行聚合返回结果</div></div></div></foreignObject></g><rect x="297" y="296" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 306px; margin-left: 317px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">流程是这样的：</div></div></div></foreignObject></g><rect x="57" y="436" width="670" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 668px; height: 1px; padding-top: 446px; margin-left: 58px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: all; background-color: #FFFF99; white-space: normal; word-wrap: normal; "><font style="font-size: 15px;"><b>问题：我们可以参考聚合模型，提前把这些指标算好，用到的时候直接拿过来用不？</b></font></div></div></div></foreignObject></g><rect x="97" y="456" width="590" height="80" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 588px; height: 1px; padding-top: 496px; margin-left: 98px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: left; font-size: 15px;"><span style="background-color: initial;"><font style="font-size: 15px;">我在建一张表，表的key就是id，表的value值就是cost sum这样的一个聚合模型的表</font></span></div><div style="text-align: left; font-size: 15px;"><span style="background-color: initial;"><font style="font-size: 15px;">插入数据的时候，分别向两种表中插入，是不是就能得到我们想要的效果了</font></span></div></div></div></div></foreignObject></g></g></svg>